<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

    var numero = prompt("Dime el número")
    var ArrayNum = numero.split("")

    // Cuando el resultado de un número se repite 
    // no es feliz
    // Cuando en los 8 primeros resultados no ha 
    // habido ningún 1 es número triste
    
    var infeliz = 0
    var cont = 0
    var result = 0;
    
    while (cont < 8) {
        
        if(cont == 0){
            for(var i = 0; i < ArrayNum.length; i++){

                var numeroArrayInt = parseInt(ArrayNum[i]);
                var operacion = numeroArrayInt * numeroArrayInt;
                result += operacion

            }
        }else{
            
            var resultString= result.toString()
            var resultArray = resultString.split("")
            result = 0;
            for(var i = 0; i < resultArray.length; i++){

                var numeroArrayInt = parseInt(resultArray[i])
                var operacion = numeroArrayInt * numeroArrayInt
                result += operacion

            }

        }
        document.write("Resultado numero " + (cont + 1) + ": " + result)
        document.write("<br>")
        if (result == 1) {
                
                infeliz = 0;
                break;
        } else {

            infeliz++;

        }

        cont++
        
    }

    if(result == 1){

        document.write("es numero feliz")

    }else{
        document.write("es numero infeliz")
    }
    </script>    
</body>
</html>
